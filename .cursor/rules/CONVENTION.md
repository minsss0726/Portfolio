---
alwaysApply: true
---

# Git 커밋 및 푸시 컨벤션

## 커밋 메시지 형식

### 기본 형식

```
<type> : <subject> -> 제목
(한 줄 띄우기)
<body>(생략 가능) -> 본문
```

### 예시

```
feat : 회원가입 및 로그인 기능 추가

회원가입 기능, 로그인 기능 추가(예시를 위해 간단히 작성)
```

## 커밋 타입 (Type)

### 필수 타입

- **feat** : 기능 (새로운 기능)
- **fix** : 버그 (버그 수정)
- **refactor** : 리팩토링
- **chore** : 기타 변경사항 (빌드 스크립트 수정, assets, 패키지 매니저 등)
- **test** : 테스트 추가, 테스트 리팩토링

### 추가 타입

- **style** : 스타일 (코드 형식, 세미콜론 추가: 비즈니스 로직에 변경 없음)
- **design** : CSS 등 사용자 UI 디자인 변경
- **comment** : 주석 추가 및 변경
- **docs** : 문서 수정
- **rename** : 파일/폴더명 수정, 옮기기만 했을 때
- **remove** : 파일을 삭제하기만 했을 때
- **error** : 에러가 해결되지 않은 코드 (merge request 하지 말 것)

## 커밋 규칙

### 제목 작성 규칙

- 제목은 50자 이내로 작성
- 첫 글자는 대문자로 시작
- 마지막에 마침표(.) 사용하지 않음
- 명령형으로 작성 (예: "추가" 대신 "추가함")
- 한글로 작성 가능

### 본문 작성 규칙

- 본문은 선택사항이지만, 변경 사항이 복잡한 경우 작성 권장
- 72자마다 줄바꿈
- 무엇을 변경했는지, 왜 변경했는지 설명
- 어떻게 변경했는지는 코드로 보이므로 생략 가능

### 예시 모음

#### 기능 추가

```
feat : 다크 모드 토글 기능 추가

사용자가 다크 모드와 라이트 모드를 전환할 수 있는 토글 버튼 추가
```

#### 버그 수정

```
fix : 모바일 반응형 레이아웃 오류 수정

모바일 화면에서 프로젝트 카드가 겹치는 문제 해결
```

#### 리팩토링

```
refactor : 컴포넌트 구조 개선

공통 컴포넌트를 별도 디렉토리로 분리하여 재사용성 향상
```

#### 스타일 변경

```
style : 코드 포맷팅 적용

Prettier를 사용하여 일관된 코드 스타일 적용
```

#### 디자인 변경

```
design : 프로젝트 카드 UI 개선

카드 호버 효과 및 그림자 스타일 개선
```

#### 문서 수정

```
docs : README 파일 업데이트

프로젝트 설치 및 실행 방법 추가
```

#### 파일 삭제

```
remove : 사용하지 않는 컴포넌트 삭제

LegacyButton 컴포넌트 제거
```

#### 파일명 변경

```
rename : 컴포넌트 파일명 변경

Button.tsx -> PrimaryButton.tsx로 변경
```

## 푸시 규칙

### 브랜치 전략

- **기본 브랜치**: `main`
- 모든 푸시는 `main` 브랜치로 직접 푸시
- 기능 브랜치 사용 시에도 최종적으로 `main` 브랜치로 머지

### 푸시 전 체크리스트

- [ ] 커밋 메시지 형식 준수 확인
- [ ] 테스트 통과 확인 (있는 경우)
- [ ] 빌드 에러 없음 확인
- [ ] 린터 에러 없음 확인
- [ ] 불필요한 파일 커밋되지 않았는지 확인

### 푸시 명령어

```bash
# 기본 푸시 (main 브랜치)
git push origin main

# 강제 푸시는 지양 (필요한 경우에만)
git push origin main --force
```

## 자동화 워크플로우

### AI 어시스턴트가 자동으로 커밋하고 푸시할 때

사용자가 "커밋하고 푸시해", "커밋 푸시", "커밋해" 등의 요청을 하면, AI 어시스턴트는 **자동으로** 다음 단계를 수행합니다:

#### Step 1: 변경 사항 확인

**자동 실행**:

```bash
# 변경된 파일 확인
git status

# 변경 내용 확인 (필요시)
git diff
```

#### Step 2: 변경 사항 분석 및 커밋 메시지 생성

**자동 실행**:

- 변경된 파일들을 분석하여 적절한 커밋 타입 선택 (`feat`, `fix`, `refactor`, `chore`, `docs`, `style`, `design`, `rename`, `remove` 등)
- 변경 사항을 기반으로 명확하고 간결한 제목 작성 (50자 이내, 한글 가능)
- 복잡한 변경 사항의 경우 본문 추가

#### Step 3: 스테이징 및 커밋

**자동 실행**:

```bash
# 모든 변경 사항 스테이징
git add .

# 커밋 생성
git commit -m "<type> : <subject>" -m "<body>"
```

**예시**:

```bash
git commit -m "feat : 프로젝트 섹션 컴포넌트 구현" -m "프로젝트 카드 레이아웃 및 필터링 기능 추가"
```

#### Step 4: 원격 저장소로 푸시

**자동 실행**:

```bash
# main 브랜치로 푸시
git push origin main
```

**중요**:

- 사용자가 명시적으로 거부하지 않는 한, 커밋 후 **자동으로 푸시**합니다
- 인증 오류가 발생하면 사용자에게 알리고, 수동 푸시 방법을 안내합니다
- `error` 타입으로 커밋한 경우에는 푸시하지 않습니다

### 자동화 규칙 요약

1. **사용자 요청 시 자동 실행**: "커밋", "푸시", "커밋하고 푸시해" 등의 요청이 있으면 자동으로 전체 프로세스 실행
2. **변경 사항 분석**: `git status`와 `git diff`로 변경 내용 확인 후 적절한 커밋 타입 선택
3. **커밋 메시지 생성**: 변경 사항을 기반으로 컨벤션에 맞는 커밋 메시지 자동 생성
4. **자동 푸시**: 커밋 성공 후 자동으로 `git push origin main` 실행
5. **에러 처리**: 인증 오류 등 발생 시 사용자에게 명확히 알리고 해결 방법 제시

### 자동화 워크플로우 예시

#### 시나리오 1: 사용자가 "커밋하고 푸시해" 요청

```
사용자: "커밋하고 푸시해"

AI 어시스턴트 자동 실행:
1. git status 실행 → 변경된 파일 확인
2. 변경 내용 분석 → "feat" 타입 선택
3. 커밋 메시지 생성 → "feat : 프로젝트 섹션 컴포넌트 구현"
4. git add . 실행
5. git commit 실행
6. git push origin main 실행 (자동)
```

#### 시나리오 2: 작업 완료 후 자동 커밋/푸시

```
사용자: "프로젝트 섹션 컴포넌트 구현 완료"

AI 어시스턴트:
1. 작업 내용 확인
2. 변경 사항 분석
3. 자동으로 커밋 및 푸시 제안 또는 실행
4. "커밋하고 푸시하시겠습니까?" 질문 없이 자동 실행 (사용자가 명시적으로 거부하지 않는 한)
```

### 커밋 생성 예시 시나리오

#### 새로운 기능 추가

```
feat : 프로젝트 섹션 컴포넌트 구현

프로젝트 카드 레이아웃 및 필터링 기능 추가
```

#### 버그 수정

```
fix : 이미지 로딩 오류 해결

Next.js Image 컴포넌트의 경로 문제 수정
```

#### 리팩토링

```
refactor : 타입 정의 파일 분리

인터페이스 및 타입을 types 디렉토리로 이동
```

#### 패키지 설치

```
chore : Tailwind CSS 의존성 추가

프로젝트 스타일링을 위한 Tailwind CSS 설치
```

#### 문서 작성

```
docs : 개발 가이드 문서 작성

컴포넌트 개발 가이드 및 컨벤션 문서 추가
```

## 주의사항

### ❌ 하지 말아야 할 것

- `error` 타입으로 커밋한 후 main 브랜치에 푸시하지 않기 (자동 푸시 제외)
- 의미 없는 커밋 메시지 (예: "수정", "업데이트")
- 여러 기능을 하나의 커밋에 포함
- 커밋 전 테스트 없이 푸시
- 사용자가 명시적으로 거부하지 않는 한, 커밋 후 자동 푸시를 건너뛰지 않기

### ✅ 권장 사항

- 작은 단위로 자주 커밋
- 커밋 메시지는 변경 사항을 명확히 설명
- 관련 없는 변경 사항은 별도 커밋으로 분리
- 커밋 전 코드 리뷰 (가능한 경우)
- 사용자가 "커밋하고 푸시해" 요청 시 자동으로 전체 프로세스 실행

### AI 어시스턴트 자동화 지침

**반드시 자동 실행해야 하는 경우**:

- 사용자가 "커밋하고 푸시해", "커밋 푸시", "커밋해" 등 명시적으로 요청한 경우
- 작업 완료 후 사용자가 커밋을 요청한 경우
- 사용자가 명시적으로 "푸시하지 마"라고 하지 않는 한, 커밋 후 자동으로 푸시

**푸시를 건너뛰어야 하는 경우**:

- `error` 타입으로 커밋한 경우
- 사용자가 명시적으로 "푸시하지 마"라고 한 경우
- 인증 오류가 발생하고 사용자가 수동 푸시를 원하는 경우

## Git 설정 (선택사항)

### 커밋 템플릿 설정

```bash
# .gitmessage 파일 생성
cat > ~/.gitmessage << EOF
<type> : <subject>

<body>
EOF

# Git 설정에 추가
git config --global commit.template ~/.gitmessage
```

### 자동화 스크립트 예시

```bash
#!/bin/bash
# commit.sh

TYPE=$1
SUBJECT=$2
BODY=$3

if [ -z "$TYPE" ] || [ -z "$SUBJECT" ]; then
  echo "Usage: ./commit.sh <type> <subject> [body]"
  exit 1
fi

if [ -z "$BODY" ]; then
  git commit -m "$TYPE : $SUBJECT"
else
  git commit -m "$TYPE : $SUBJECT" -m "$BODY"
fi

git push origin main
```
